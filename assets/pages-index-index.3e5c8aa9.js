import{o,c as t,w as i,a as s,b as l,d as n,r as e,F as d,i as c,n as a,t as r,e as h}from"./index.93e6f9e1.js";const f=["羔羊跪乳","乌鸦反哺","昙花一现","惊鸿一瞥","魂不附体","失魂落魄","锋芒毕露","锐不可挡","朽木难雕","孺子可教","大同小异","大相径庭","举世无双","背信弃义","安身立命","爱屋及乌","暴殄天物","杯弓蛇影","杯水车薪","别具一格"];var m=((o,t)=>{const i=o.__vccOpts||o;for(const[s,l]of t)i[s]=l;return i})({data:()=>({isRandom:!1,idiomList:[],wordList:[],matchSlot:[],doneList:[]}),onLoad(){this.initial()},methods:{initial(){this.idiomList=[];for(var o=0;o<16;){let t=Math.floor(Math.random()*f.length),i=f[t];this.idiomList.includes(i)||(this.idiomList.push(i),o+=1)}this.wordList=[],this.matchSlot=[],this.doneList=[],this.idiomList.forEach((o=>{o.split("").forEach((o=>{this.wordList.push({word:o,clicked:!1,hidden:!1,notice:!1,error:!1})}))})),console.log(this.idiomList);const t=this.idiomList.join("");console.log(t.toString()),console.log(this.wordList);let i=this;setTimeout((function(){i.randomList()}),5e3)},notice(){if(this.matchSlot.length>=1){const o=this.matchSlot.flatMap((o=>o.word)).join(""),t=this.idiomList.find((t=>t.startsWith(o))),i=t.replace(o,"")[0],s=this.wordList.find((o=>o.word==i));s.notice=!0,console.log(o,t,s)}else{const o=[];this.idiomList.forEach((t=>{this.doneList.includes(t)?console.log(t):o.push(t)})),console.log(o);const t=Math.floor(Math.random()*o.length),i=o[t];console.log(i);this.wordList.find((o=>o.word==i[0])).notice=!0}},wordClick(o){if(console.log(this.isRandom),!this.isRandom)return;console.log(o);const t=this.wordList[o];if(console.log(t),this.matchSlot.length<1){const i=this.idiomList.find((o=>o.startsWith(t.word)));console.log(i),i?(this.matchSlot.push({word:t.word,index:o}),t.clicked=!0):t.error=!0}else{const i=this.matchSlot.at(-1);if(i.word==t.word&&i.index==o)t.clicked=!t.clicked,this.matchSlot.pop();else{this.matchSlot.push({word:t.word,index:o});const i=this.matchSlot.flatMap((o=>o.word)).join("");console.log("73",i);const s=this.idiomList.find((o=>o===i));if(console.log(s),s){t.clicked=!0;let o=this;setTimeout((function(){o.doneList.push(i),o.matchSlot.forEach((t=>{o.wordList[t.index].hidden=!0})),o.matchSlot=[],o.wordList.forEach((o=>{o.clicked=!1}))}),500)}else{const o=this.matchSlot.flatMap((o=>o.word)).join("");console.log(o);const i=this.idiomList.find((t=>t.startsWith(o)));console.log(i),i?t.clicked=!0:(t.error=!0,this.matchSlot.pop())}}}this.wordList.forEach((o=>{o.notice&&(o.notice=!1)})),setTimeout((function(){t.error=!1}),100),console.log(this.matchSlot),console.log(t)},randomList(){this.wordList.sort((function(){return.5-Math.random()})),this.isRandom=!0}}},[["render",function(f,m,u,L,w,g){const p=c,k=h;return o(),t(p,{class:"content"},{default:i((()=>[s(p,{class:"status"},{default:i((()=>[l("成语连连看-Lynx")])),_:1}),s(p,{class:"word-grid"},{default:i((()=>[(o(!0),n(d,null,e(w.wordList,((n,e)=>(o(),t(p,{key:e,class:a(["grid",[n.clicked?"clicked":"",n.hidden?"hidden":"",n.notice?"notice":"",n.error?"error":""]]),onClick:o=>g.wordClick(e)},{default:i((()=>[s(k,null,{default:i((()=>[l(r(n.word),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(p,{class:"options"},{default:i((()=>[s(p,{onClick:m[0]||(m[0]=o=>g.notice()),class:"reload"},{default:i((()=>[l("提示")])),_:1}),s(p,{onClick:m[1]||(m[1]=o=>g.initial()),class:"reload"},{default:i((()=>[l("重试")])),_:1})])),_:1}),s(p,{class:"word-box"},{default:i((()=>[(o(!0),n(d,null,e(w.doneList,((n,e)=>(o(),t(p,null,{default:i((()=>[s(k,null,{default:i((()=>[l(r(n),1)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})}],["__scopeId","data-v-795be396"]]);export{m as default};
