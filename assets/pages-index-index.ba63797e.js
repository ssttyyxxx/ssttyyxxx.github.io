import{o,c as t,w as i,a as s,b as l,r as d,F as n,d as c,i as e,n as a,t as r,e as h}from"./index.57ff3531.js";const f=["羔羊跪乳","乌鸦反哺","昙花一现","惊鸿一瞥","魂不附体","失魂落魄","锋芒毕露","锐不可挡","朽木难雕","孺子可教","大同小异","大相径庭","举世无双","背信弃义","安身立命","爱屋及乌","暴殄天物","杯弓蛇影","杯水车薪","别具一格"];var m=((o,t)=>{const i=o.__vccOpts||o;for(const[s,l]of t)i[s]=l;return i})({data:()=>({isRandom:!1,idiomList:[],wordList:[],matchSlot:[],doneList:[]}),onLoad(){this.initial()},methods:{initial(){this.idiomList=[];for(var o=0;o<12;){let t=Math.floor(Math.random()*f.length),i=f[t];this.idiomList.includes(i)||(this.idiomList.push(i),o+=1)}this.wordList=[],this.matchSlot=[],this.doneList=[],this.idiomList.forEach((o=>{o.split("").forEach((o=>{this.wordList.push({word:o,clicked:!1,hidden:!1,notice:!1,error:!1})}))})),console.log(this.wordList);this.randomList()},notice(){if(this.isRandom)if(this.matchSlot.length>=1){const o=this.matchSlot.flatMap((o=>o.word)).join(""),t=this.idiomList.find((t=>t.startsWith(o))),i=t.replace(o,"")[0],s=this.wordList.find((o=>o.word==i));s.notice=!0,console.log(o,t,s)}else{const o=[];this.idiomList.forEach((t=>{this.doneList.includes(t)?console.log(t):o.push(t)})),console.log(o);const t=Math.floor(Math.random()*o.length),i=o[t];console.log(i);this.wordList.find((o=>o.word==i[0])).notice=!0}},wordClick(o){if(console.log(this.isRandom),!this.isRandom)return;console.log(o);const t=this.wordList[o];if(!t.hidden){if(console.log(t),this.matchSlot.length<1){const i=this.idiomList.find((o=>o.startsWith(t.word)));console.log(i),i?(this.matchSlot.push({word:t.word,index:o}),t.clicked=!0):t.error=!0}else{const i=this.matchSlot.at(-1);if(i.word==t.word&&i.index==o)t.clicked=!t.clicked,this.matchSlot.pop();else{this.matchSlot.push({word:t.word,index:o});const i=this.matchSlot.flatMap((o=>o.word)).join("");console.log("73",i);const s=this.idiomList.find((o=>o===i));if(console.log(s),s){t.clicked=!0;let o=this;setTimeout((function(){o.doneList.push(i),o.matchSlot.forEach((t=>{o.wordList[t.index].hidden=!0})),o.matchSlot=[],o.wordList.forEach((o=>{o.clicked=!1}))}),500)}else{const o=this.matchSlot.flatMap((o=>o.word)).join("");console.log(o);const i=this.idiomList.find((t=>t.startsWith(o)));console.log(i),i?t.clicked=!0:(t.error=!0,this.matchSlot.pop())}}}this.wordList.forEach((o=>{o.notice&&(o.notice=!1)})),setTimeout((function(){t.error=!1}),100),console.log(this.matchSlot),console.log(t)}},randomList(){this.wordList.sort((function(){return.5-Math.random()})),this.isRandom=!0}}},[["render",function(f,m,u,w,L,g){const p=h,k=e;return o(),t(k,{class:"content"},{default:i((()=>[s(k,{class:"word-grid"},{default:i((()=>[(o(!0),l(n,null,d(L.wordList,((l,d)=>(o(),t(k,{key:d,class:a(["grid",[l.clicked?"clicked":"",l.hidden?"hidden":"",l.notice?"notice":"",l.error?"error":""]]),onClick:o=>g.wordClick(d)},{default:i((()=>[s(p,null,{default:i((()=>[c(r(l.word),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1}),s(k,{class:"options"},{default:i((()=>[s(k,{onClick:m[0]||(m[0]=o=>g.notice()),class:"reload"},{default:i((()=>[c("提示")])),_:1}),s(k,{onClick:m[1]||(m[1]=o=>g.initial()),class:"reload"},{default:i((()=>[c("重试")])),_:1})])),_:1}),s(k,{class:"word-box"},{default:i((()=>[(o(!0),l(n,null,d(L.doneList,((l,d)=>(o(),t(k,null,{default:i((()=>[s(p,null,{default:i((()=>[c(r(l),1)])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})}],["__scopeId","data-v-6aba8ff0"]]);export{m as default};
